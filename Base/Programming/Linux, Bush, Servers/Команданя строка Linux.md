# Теория из книги

Created: Nov 23, 2020 4:57 PM
status: В процессе
format: flow
tags: #linux #programming 
need to know: -

---
## Исследование системы
#### Полезные сокращения варианты cd:
```bash
cd - #Сменить рабочий каталог на предыдущий
cd ~ #Сменить рабочий каталог на домашний. Если 
#пользователей несколько,можно добавить ~username.
```

#### Параметры и аргументы
Большинство праграмм имеют вид:
>command -params args

Пример команды с коротким и длинным параметром:
```bash
ls -lt --reverse
```

#### Описание длинного формата вывода команды ls:![[Pasted image 20210107011700.png]]

#### Определение типов файлов командой file
Линукс не показывает расширения файлов и сделать это можно лишь с помощью команды file file_name.

#### Чтение файлов
```bash
less file_name #программа просмотра файлов
cat file_name #вывод содержимого в консоль
nano #редактирование и прсомотр файла с помщоью Nano
vim #редактирование и прсомотр файла с помощью VIM
```
###### Команды программы less:![[Pasted image 20210107012950.png]]

##### Каталоги в системе Linux.
- / - корневой каталог
- /bin - двоичные программы для функционирования системы
- /boot - ядро Linux (/boot/vmlinuz)
- /dev - содержит узлы устройств
- /etc - системные конфигурационные файлы
	- /etc/crontab - расписание cron
	- /etc/fstab - таблица устройств хранения и соответствующих точек монтирования
	- /etc/passwd - список учетных записей
- /home - домашний каталог. Простые пользователи могут создавать файлы.
- /lib - содержит файлы разделяемых библиотек
- /lost+found - используется на случай частичного восстановления вопреждений в файловой системе. Если с системой все норм, каталог пустой.
- /media содержит точки монтирования съемных носителей. (/mnt в старых системах)
- /opt - для установки необяхательного программного обеспечения. 
- /proc - Виртуальная файловая система с файлами - глазками, через которые можно заглянуть в ядро.
- /root - домашний каталог
- /sbin - системные двоичные файлы. Жизнено важные программы.
- /tmp - временное хранилище для временных файлов. При перезагрузки может очищаться.
- /usr - содержит программы и файлы поддержки, используемые пользователями.
	- /usr/bin - испольняемы программы.
	- /usr/lib - библиотеки
	- /usr/local - исп. для установки программ, котоыре не входят в состав дистрибутива, но должны быть доступны.
	- /usr/sbin - доп. программы для администрирования
	- /usr/share - разделяемы данные, используемы программами в /usr/bin, в том числе конфиг файлы, ярлыки, фоновые изображения, звуковые файлы...
	- /usr/share/doc - документация пакетов, установленных в системе.
- /var - хранит часто изменяемые данные различных бд, буферные файлы, почту...
	- /var/log содержит файлы журналов с записями о различных действиях, выполнявшихся в системе.

---
## Операции с файлами и каталогами
#### Основные комманды
```bash
cp -a #скопировать файлы и каталоги со всеми 
#атрибутами и правами
cp -i #запрашивать подтверждение
cp -r #для копирования каталогов
cp -u #копировать файлы, отсутсвующие в каталоге 
#назначения или более новые
cp -v #подробный вывод информации в консоль

mv -i #аналогично cp
mv -uv #как cp -u и cp-v
mv ... dir #перемещает несколько файлов в dir

rm -irv
rm -f #Игнорировать отсутсвующие файлы.

ln file_name link_name #жесткая ссылка
ln -s file/dir_name link_name #символическая ссылка
```
Подробнее: [[Base params]].

#### Групповые символы
(использовать с командами, принимающими имена файлов в виде аргументов):
```bash
* #Любая последовательность любых символов
? #Любой один символ
[символы] #любой один символ из указанного множества символов
[!символы] #любой один символ, не принадлежащий указанным символам

#Классы символов, испо с командами, принимающие имена файлов:
[[:класс:]] #любой один символ, принадлежащий указанному классу
[:alnum:] #Любой алфавитно-цифровой символ
[:alpha:] #Любой цифровой символ
[:digit:] #Любая буква в нижнем регистре
[:upper:] #Любая буква в верхнем регистре

#Примеры:
[[:upper:]]* #Все имена файлов с буквы в верхнем регистре
[![:digit:]]* #Все имена файлов, не начинающиеся с цифры
*[[:lower]123] #Ф.заканчивающиеся буквой в нижнем регистер/цифрой123
```

#### Ссылки
**Жесткая ссылка:**
- не может указатывать на файл за пределами собственной файловой системы (в другом разделе диска)
- не может указывать на каталог
- неотличимы от исходного файла 
- Если удалить исходный файл, то жесткая ссылка его заменит

	У жетских ссылок для одного файла совпадает индексный узел, который можно посмотреить, введя комануд ls -li

**Символическая ссылка:**
- избавлена от ограницений жестих ссылок
- обычный указатель на файл или каталог.
- Могут быть битыми. При удалении исходного файла ссылка введет в никуда.
Пример символьной ссылки:
```bash
lrwxrwxrwx 1 root root 11 2012-08-11 07:34 libc.so.6 -> libc-2.6.so
```
---

## Работа с командами
**Вспомогательные команды:**
```bash
type #сообщает, как интерпретируется имя указанной команды.
which #определение местоположения исполняемой команды.
help #получение справки для встроенных команд (не иснтрукции)
man #выводит страницу справочного руководства с описанием команды
apropos #выводит список подходящих команд
info #выводит запись из справочного руководства info с описанием к.
whatis #выводит краткое описание команды
alias #создает псевдоним для команды
```

#### Типы команд:
- Выполняемая команда - скомпилированные двоичные программ, сценарии и др.
- Встроенная комнанда (shell builtins, builtin commands) - команды в оболочке bash (cd)
- Функции командной оболочки (shell functions) - сценарии на языке bash, встроенные в окружение.
- Псевдоним (alias) - команда, которую мы можем определить сами, сконструировав ее из других команд.

Чтобы определить тип команды, используем *type*.

#### Справка по коммандам.
Пример использования help:
```bash
help cd
>>>cd: cd [-L|-P] [dir]
```
##### Форма записи:
- квадратные скобки указывают на необязательность элемента.
- вертикальная черта исп. для перечисления взаимоисключающих вариантов.

`Исполняемы программы поддерживают параметр --help для вывода описания синтаксиса и параметров.`

##### Справочное руководство man:
![[Pasted image 20210109051045.png]]
Команда apropos выводит близкие термины и их справочные руководства. Первое поле в каждой строке вывода — это имя страницы справочного руководства, а второе поле — номер раздела. Команда man с параметром -k действует как apropos .

##### Команда info - альлтернатива man![[Pasted image 20210109052116.png]]

`Пакет gzip включает специальную
версию less с именем zless`

#### Создание своих команд с помощью alias
>Командная оболочка позволяет использовать сразу несколько комнад, разделяя их точкой с запятой: команда1; команда2; команда3... Пример: cd /usr; ls; cd -

---
###  See also:
- [[Base commands]]
- [[Base params]]
