# Поиск файлов
*Need to know:* 
- [[$ Syntax Regex]] 
- [[$ $ 3.6 Регулярные выражения в Linux]]
- [[1.5 Подстановка в командной оболочке]]

*status:* В процессе
*format:* flow
*tegs:* #linux #programming
*description:*

---
### Команды для поиска файлов:
```bash
locate path_or_fileName #выполняет поиск файлов по именам
find #выполняет поиск файлов в иерархии каталогов

## Команда, используемая вместе с locate и find:
xargs #конструирует команды на основе данных, 
# полученных из стандартного ввода и выполняет их

touch #изменяет времена, ассоциированное с файлом
stat #выводит статус файла или файловой ситсемы
```

## Использоване простого поиска `find`
\- ищет файлы согласно заданным атрибутам в указанном каталоги(и подкаталогах). Этой команде можно передать несколько имен каталогов.

Получение списка содержимого домашнего каталога, введя `find ~`

*Подсчитать файлы можно с помощью следующей комсанды:*
>find ~ | wc -l

С помощью проверок, операций и параметров команда `find` может быть использована для поиска файлов, соответствующих определенным критериям.
#### Проверки
```bash
find ~ -type d #только каталоги
find ~ -type f #только файлы
find ~ -type b #спец файл блочного устройства
find ~ -type c #спец файл символьного устройства
find ~ -type l #Символическая ссылка
```

##### Поиск по размеру и имени
Пример нахождения файлов с именами, соответсвующими шаблону \*.JPG, и имеющие размер больше 1 мегабайта:
`find / -type f -name "*.JPG" -size +1M | wc -l`
\- символ `+` указывает, что требуется искать файлы, размер которых превышает указанное число. Символ `-` изменил бы значение строки на противоположное: "меньше указанного числа".

##### Единицы измерения, поддерживаемые командой find:
![[Pasted image 20210123205609.png]]

##### Проверки, поддерживаемые командой find:
Обратите внима-
ние, что в случаях, когда требуется числовой аргумент, допустимо использование формы записи с символами + и - , обсуждавшейся выше.
![[Pasted image 20210123205700.png]] ![[Pasted image 20210123205707.png]] ![[Pasted image 20210123210419.png]]

#### Операторы
`find` поддерживает возможность комбинировать проверки с помощью логических операторов, с целью опредедления более сложных критериев отбора.

Например в некотором каталоге нам надо найти все файлы и подкаталоги с небезопасными разрешениями (поиск файлов с разрешениями, отличащющимися от 0600, и каталогов с разрешениями, отличающимися от 0700):
```bash
find ~ \( -type f -not -perm 0600 \) -or \( -type d -not -perm 0700 \)