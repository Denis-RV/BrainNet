# Base bash commands

Created: Oct 28, 2020 10:18 PM
status: В процессе
format: flow
Tags: #programming  #linux
need to know: [[Terms]]

---

### Справочная информация
```bash
$ man anyCommand #вывод подробной справки о команде.
$ anyCommand --help #вывод краткой справки
```

### Основные команды
```bash

$ pwd #вывести текущий путь к каталогу
$ df #показать обьемн пространства на диске
$ free #объем свободного пространства
$ cd ~ #быстрый переход к домашней директории
$ cd file1 file2 #копирование одного файла в другой
$ cd -r dir1 dir2 #копирование директории
$ mv file1... myDirOrRenamefile1 #перемещение или переименование файла
$ file fileName #узнать формат файла
$ ln myFile nameLink #создать жесткую ссылку
$ ln -s myElement nameLink #создать символическую ссылку

$ mkdir myDirs... #создание диреткории. Точки-значит разрешено несколько аргументов
$ rm file... #удаление файла
$ rm -r dir2 #удаление директории

$ ls dir... #вывод директорий
$ cat fileName #вывод содержимого файла в консоль
$ less fileName #просмотр содержания файла

$ sudo myCommand #выполнение команд с правами админа
$ sudo apt-get update -y 
$ sudo apt-get updgrade -y
$ reboot #reload system
$ poweroff #turn off system

$ cp item... itemForCopy #копирование файлов и каталогов.
$ cp item... . #копирование в текущий рабочий каталог
$ mv  #перемещение/переименование файлов и каталогов.
```

### Горячие клавиши:
- Ctrl + C - Досрочное прирывание команды
- TAB - Автодополнение команд
- Ctrl + r - переход к интерактивному режиму по вводу командыми.

**Создание и редактирование файлов:**

```bash
$ echo "Name of file" > file.txt
$ nano file.txt #run nano
$ vim #запуск vim
```

### Аргументы командной строки
- Бывают разных типов (слова или опции со заком минус
- Есть почти у всех команд

Пример: 

```bash
$ ls -l #подробный вывод файлов
$ ls -a #вывод скрытых файлов

```

### История команд

```bash
$ history #вывод истории
$ !234 #вывод комынды под номером в истории
```

Смена консолей:

- Alt + F1/F6 - командные строки за кулисами
- Alt + F7 - графическая оболочка

Большинство команд используют параметры, состоящие из одного символа, кото-
рому предшествует дефис, например: -l . Но многие команды, в том числе коман-
ды из проекта GNU, поддерживают параметры с длинными именами, состоящие
из слова, которому предшествуют два дефиса. Кроме того, многие команды по-
зволяют объединять вместе параметры с короткими именами.

```bash
$ command -param(s) arg(s)
```


## Command from book "Command Line Linux"
### Главные команды:
```bash
$ cd - #Сменить рабочий каталог на предыдущий
$ cd ~ #Сменить рабочий каталог на домашний. Если 
#пользователей несколько,можно добавить ~username.
$ ls -lt --reverse
```

### Чтение файлов:
```bash
$ less file_name #программа просмотра файлов
$ cat file_name #вывод содержимого в консоль
$ nano #редактирование и прсомотр файла с помщоью Nano
$ vim #редактирование и прсомотр файла с помощью VIM
```

### Команды для работы с файлами:
```bash
cp -a #скопировать файлы и каталоги со всеми 
#атрибутами и правами
cp -i #запрашивать подтверждение
cp -r #для копирования каталогов
cp -u #копировать файлы, отсутсвующие в каталоге 
#назначения или более новые
cp -v #подробный вывод информации в консоль

mv -i #аналогично cp
mv -uv #как cp -u и cp-v
mv ... dir #перемещает несколько файлов в dir

rm -irv
rm -f #Игнорировать отсутсвующие файлы.

ln file_name link_name #жесткая ссылка
ln -s file/dir_name link_name #символическая ссылка
```

### Групповые символы:
```bash
* #Любая последовательность любых символов
? #Любой один символ
[символы] #любой один символ из указанного множества символов
[!символы] #любой один символ, не принадлежащий указанным символам

#Классы символов, испо с командами, принимающие имена файлов:
[[:класс:]] #любой один символ, принадлежащий указанному классу
[:alnum:] #Любой алфавитно-цифровой символ
[:alpha:] #Любой цифровой символ
[:digit:] #Любая буква в нижнем регистре
[:upper:] #Любая буква в верхнем регистре

#Примеры:
[[:upper:]]* #Все имена файлов с буквы в верхнем регистре
[![:digit:]]* #Все имена файлов, не начинающиеся с цифры
*[[:lower]123] #файлы, заканчивающиеся буквой в нижнем регистер/цифрой123
```

### Работа с командами:
```bash
$ type #сообщает, как интерпретируется имя указанной команды.
$ which #определение местоположения исполняемой команды.
$ help #получение справки для встроенных команд (не иснтрукции)
$ man #выводит страницу справочного руководства с описанием команды
$ apropos #выводит список подходящих команд
$ info #выводит запись из справочного руководства info с описанием к.
$ whatis #выводит краткое описание команды

$ alias #создает псевдоним для команды
$ type foo
#alias name='command1; command2; command3...'
$ alias foo='cd /usr; ls; cd-'
$ foo

#удаляем псевдоним foo
$ unalias foo
$ type foo
>>>file not found.
```

### Команды для фильтрации и работы с вводом/выводом:
```bash
$ cat #объединяет файлы
$ sort #сортирует строки текста
$ uniq #сообщает о повторяющихся строках или удаляет их
#wc выводит число строк, слов и байтов в указанном файле
$ wc ls-output.txt
	>>>7902 64566 503634 ls-output.txt
$ grep #находит и выводит строки, соответсвующие шаблону
$ head #выводит первые строки из файл
$ tail #выводит последние строки из файла
$ tee #читает данные со стандартного ввода и записывает в стандартный вывод и в файлы

#Перенаправление вывода:
$ ls -l /usr/bin > ls-output.txt
$ > ls-out.txt #создаст новый файл или очисстит старый
$ ls -l /usr/bin >> ls-output.txt #добавит вывод в конец файла
$ ls -l /bin/usr 2> ls-error.txt
$ ls -l /bin/usr &> ls-output.txt # перезапись файла
$ ls -l /bin/usr &>> ls-output.txt # вывод в конец 

# имеем файлы movie.mpeg.001, movie.mpeg.002 ... movie.mpeg.099, их надо объединить:
$ cat movie.mpeg.0* > movie.mpeg

#Создание текстовых файлов
$ cat > record.txt
<<<Any text
<<<More text
<<<Ctld + D

#Применение фильтров:
$ ls /bin /usr/bin | sort | uniq | less #удаление дубликатов
$ ls /bin /usr/bin | sort | uniq -d | less #вывод дубликатов
$ ls /usr/bin | tee ls.txt | grep zip

#Вывод в конец или начало:
$ head -n 5 ls-output.txt
$ tail -n 5 ls-output.txt
$ ls /usr/bin | tail
```

